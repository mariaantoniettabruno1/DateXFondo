GravityKit.GravityActions.Actions=GravityKit.GravityActions.Actions||{},GravityKit.GravityActions.Actions.Edit={},function($,obj){"use strict";obj.action="gk-bulk-edit-entries",obj.selectors={entryListForm:"#entry_list_form",selectedFieldCheckbox:".gk-gravityactions-edit-selected-field",selectedFieldCount:".gk-gravityactions-edit-selected-field-count",entryCheckbox:".gform_list_checkbox"},obj.onActionSubmit=function(event,entries,data,originalEvent){if(obj.action!==data.action)return;const isAllEntries=$("#all_entries").val();let args={view:"edit/step-1",entries:entries,form_id:data.formID,bulk_action:data.action,is_all_entries:isAllEntries,current_query_args:window.location.search.substring(1)};args[data.nonceName]=data.nonce,GravityKit.GravityActions.Modal.request(args)},obj.onCompleteUpdating=((formID,entries,action,nonce,nonceName)=>{let args={view:"edit/step-complete",entries:entries,form_id:formID,bulk_action:action};args[nonceName]=nonce,GravityKit.GravityActions.Modal.request(args)}),obj.setupList=function(){new List("gk-gravityactions-edit-step-1",{listClass:"gv-bulk-edit-step-1-fields",searchClass:"gv-bulk-edit-search",valueNames:["gk-gravityactions-edit-field-name"]})},obj.onFieldSelect=function(event){const $fieldsCount=$(obj.selectors.selectedFieldCount),$field=$(this),noneSelected=$fieldsCount.data("noneSelected"),oneSelected=$fieldsCount.data("oneSelected"),multipleSelected=$fieldsCount.data("multipleSelected"),$fieldToSelect=$('.gk-gravityactions-hidden-selected-fields[value="'+$field.val()+'"]');let countSelected=parseInt($fieldsCount.data("countSelected"),10);$field.is(":checked")?(countSelected+=1,$fieldToSelect.prop("disabled",!1)):(countSelected-=1,$fieldToSelect.prop("disabled",!0)),$fieldsCount.data("countSelected",countSelected),0===countSelected?$fieldsCount.text(noneSelected):1===countSelected?$fieldsCount.text(oneSelected):$fieldsCount.text(multipleSelected.replace("%s",countSelected))},obj.ready=function(){$(GravityKit.GravityActions.Trigger.selectors.entryListForm).on("submitBulkAction.GravityActions/GK",obj.onActionSubmit),$(document).on("change",obj.selectors.selectedFieldCheckbox,obj.onFieldSelect),$(document).on("afterAjaxSuccess.GravityActions/GK",obj.setupList)},$(obj.ready)}(jQuery,GravityKit.GravityActions.Actions.Edit);