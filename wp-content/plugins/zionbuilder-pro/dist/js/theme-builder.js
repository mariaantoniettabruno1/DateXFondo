(()=>{var e={674:(e,t,o)=>{e.exports=o(554)},268:(e,t,o)=>{"use strict";var n=o(770),r=o(499),a=o(966),i=o(787),l=o(643),s=o(451),c=o(968),p=o(839);e.exports=function(e){return new Promise((function(t,o){var u=e.data,d=e.headers;n.isFormData(u)&&delete d["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(f+":"+h)}var v=l(e.baseURL,e.url);if(m.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m.onreadystatechange=function(){if(m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m};r(t,o,a),m=null}},m.onabort=function(){m&&(o(p("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){o(p("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(p(t,e,"ECONNABORTED",m)),m=null},n.isStandardBrowserEnv()){var y=(e.withCredentials||c(v))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in m&&n.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:m.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),o(e),m=null)})),u||(u=null),m.send(u)}))}},554:(e,t,o)=>{"use strict";var n=o(770),r=o(542),a=o(930),i=o(842);function l(e){var t=new a(e),o=r(a.prototype.request,t);return n.extend(o,a.prototype,t),n.extend(o,t),o}var s=l(o(130));s.Axios=a,s.create=function(e){return l(i(s.defaults,e))},s.Cancel=o(831),s.CancelToken=o(86),s.isCancel=o(777),s.all=function(e){return Promise.all(e)},s.spread=o(769),s.isAxiosError=o(997),e.exports=s,e.exports.default=s},831:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},86:(e,t,o)=>{"use strict";var n=o(831);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new n(e),t(o.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},777:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},930:(e,t,o)=>{"use strict";var n=o(770),r=o(787),a=o(239),i=o(705),l=o(842);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)o=o.then(t.shift(),t.shift());return o},s.prototype.getUri=function(e){return e=l(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,o){return this.request(l(o||{},{method:e,url:t,data:(o||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,o,n){return this.request(l(n||{},{method:e,url:t,data:o}))}})),e.exports=s},239:(e,t,o)=>{"use strict";var n=o(770);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},643:(e,t,o)=>{"use strict";var n=o(125),r=o(446);e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},839:(e,t,o)=>{"use strict";var n=o(793);e.exports=function(e,t,o,r,a){var i=new Error(e);return n(i,t,o,r,a)}},705:(e,t,o)=>{"use strict";var n=o(770),r=o(672),a=o(777),i=o(130);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},793:e=>{"use strict";e.exports=function(e,t,o,n,r){return e.config=t,o&&(e.code=o),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},842:(e,t,o)=>{"use strict";var n=o(770);e.exports=function(e,t){t=t||{};var o={},r=["url","method","data"],a=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function s(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(o[r]=s(void 0,e[r])):o[r]=s(e[r],t[r])}n.forEach(r,(function(e){n.isUndefined(t[e])||(o[e]=s(void 0,t[e]))})),n.forEach(a,c),n.forEach(i,(function(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(o[r]=s(void 0,e[r])):o[r]=s(void 0,t[r])})),n.forEach(l,(function(n){n in t?o[n]=s(e[n],t[n]):n in e&&(o[n]=s(void 0,e[n]))}));var p=r.concat(a).concat(i).concat(l),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===p.indexOf(e)}));return n.forEach(u,c),o}},499:(e,t,o)=>{"use strict";var n=o(839);e.exports=function(e,t,o){var r=o.config.validateStatus;o.status&&r&&!r(o.status)?t(n("Request failed with status code "+o.status,o.config,null,o.request,o)):e(o)}},672:(e,t,o)=>{"use strict";var n=o(770);e.exports=function(e,t,o){return n.forEach(o,(function(o){e=o(e,t)})),e}},130:(e,t,o)=>{"use strict";var n=o(770),r=o(642),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,s={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=o(268)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(a)})),e.exports=s},542:e=>{"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return e.apply(t,o)}}},787:(e,t,o)=>{"use strict";var n=o(770);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var a;if(o)a=o(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+"="+r(e))})))})),a=i.join("&")}if(a){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},446:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},966:(e,t,o)=>{"use strict";var n=o(770);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,o,r,a,i){var l=[];l.push(e+"="+encodeURIComponent(t)),n.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),n.isString(r)&&l.push("path="+r),n.isString(a)&&l.push("domain="+a),!0===i&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},125:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},997:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},968:(e,t,o)=>{"use strict";var n=o(770);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function r(e){var n=e;return t&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=r(window.location.href),function(t){var o=n.isString(t)?r(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},642:(e,t,o)=>{"use strict";var n=o(770);e.exports=function(e,t){n.forEach(e,(function(o,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[n])}))}},451:(e,t,o)=>{"use strict";var n=o(770),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),o=n.trim(e.substr(a+1)),t){if(i[t]&&r.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([o]):i[t]?i[t]+", "+o:o}})),i):i}},769:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},770:(e,t,o)=>{"use strict";var n=o(542),r=Object.prototype.toString;function a(e){return"[object Array]"===r.call(e)}function i(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function s(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var o=0,n=e.length;o<n;o++)t.call(null,e[o],o,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:s,isUndefined:i,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function o(o,n){s(t[n])&&s(o)?t[n]=e(t[n],o):s(o)?t[n]=e({},o):a(o)?t[n]=o.slice():t[n]=o}for(var n=0,r=arguments.length;n<r;n++)p(arguments[n],o);return t},extend:function(e,t,o){return p(t,(function(t,r){e[r]=o&&"function"==typeof t?n(t,o):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})();var n={};o.p=window.zionBuilderPaths[{}.appName],(()=>{"use strict";o.r(n);const e=window.zb.vue,t=zb.i18n,r=zb.components,a={id:"znpbpro-theme-builder-app",class:"znpbpro-theme-builder-app"},i={class:"znpbpro-theme-builder-header"},l={class:"znpbpro-theme-builder-body"},s={key:1,class:"znpbpro-themeBuilder-templates"},c={class:"znpbpro-themeBuilder-templates-header"},p={class:"znpbpro-themeBuilder-components"},u={class:"znpbpro-themeBuilder-templates-header"},d={class:"zb-themebuilderEditModalTitle"},m={class:"zb-themebuilderEditModalTitleLabel"},f={class:"zb-themebuilderEditModalClose"},h=zb.utils,v=function(e,t){return e===t||e!=e&&t!=t},y=function(e,t){for(var o=e.length;o--;)if(v(e[o][0],t))return o;return-1};var b=Array.prototype.splice;function g(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}g.prototype.clear=function(){this.__data__=[],this.size=0},g.prototype.delete=function(e){var t=this.__data__,o=y(t,e);return!(o<0||(o==t.length-1?t.pop():b.call(t,o,1),--this.size,0))},g.prototype.get=function(e){var t=this.__data__,o=y(t,e);return o<0?void 0:t[o][1]},g.prototype.has=function(e){return y(this.__data__,e)>-1},g.prototype.set=function(e,t){var o=this.__data__,n=y(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this};const w=g,_="object"==typeof global&&global&&global.Object===Object&&global;var C="object"==typeof self&&self&&self.Object===Object&&self;const B=_||C||Function("return this")(),T=B.Symbol;var k=Object.prototype,x=k.hasOwnProperty,A=k.toString,N=T?T.toStringTag:void 0;var j=Object.prototype.toString;var z=T?T.toStringTag:void 0;const S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=x.call(e,N),o=e[N];try{e[N]=void 0;var n=!0}catch(e){}var r=A.call(e);return n&&(t?e[N]=o:delete e[N]),r}(e):function(e){return j.call(e)}(e)},O=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V=function(e){if(!O(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},P=B["__core-js_shared__"];var E,D=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";var M=Function.prototype.toString;var I=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,R=L.toString,F=U.hasOwnProperty,$=RegExp("^"+R.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const q=function(e){return!(!O(e)||(t=e,D&&D in t))&&(V(e)?$:I).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},H=function(e,t){var o=function(e,t){return null==e?void 0:e[t]}(e,t);return q(o)?o:void 0},J=H(B,"Map"),X=H(Object,"create");var G=Object.prototype.hasOwnProperty;var Z=Object.prototype.hasOwnProperty;function K(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}K.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(X){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return G.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:Z.call(t,e)},K.prototype.set=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=X&&void 0===t?"__lodash_hash_undefined__":t,this};const W=K,Q=function(e,t){var o,n,r=e.__data__;return("string"==(n=typeof(o=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==o:null===o)?r["string"==typeof t?"string":"hash"]:r.map};function Y(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Y.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(J||w),string:new W}},Y.prototype.delete=function(e){var t=Q(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return Q(this,e).get(e)},Y.prototype.has=function(e){return Q(this,e).has(e)},Y.prototype.set=function(e,t){var o=Q(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this};const ee=Y;function te(e){var t=this.__data__=new w(e);this.size=t.size}te.prototype.clear=function(){this.__data__=new w,this.size=0},te.prototype.delete=function(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o},te.prototype.get=function(e){return this.__data__.get(e)},te.prototype.has=function(e){return this.__data__.has(e)},te.prototype.set=function(e,t){var o=this.__data__;if(o instanceof w){var n=o.__data__;if(!J||n.length<199)return n.push([e,t]),this.size=++o.size,this;o=this.__data__=new ee(n)}return o.set(e,t),this.size=o.size,this};const oe=te,ne=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),re=function(e,t,o){"__proto__"==t&&ne?ne(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o},ae=function(e,t,o){(void 0!==o&&!v(e[t],o)||void 0===o&&!(t in e))&&re(e,t,o)},ie=function(e,t,o){for(var n=-1,r=Object(e),a=o(e),i=a.length;i--;){var l=a[++n];if(!1===t(r[l],l,r))break}return e};var le="object"==typeof exports&&exports&&!exports.nodeType&&exports,se=le&&"object"==typeof module&&module&&!module.nodeType&&module,ce=se&&se.exports===le?B.Buffer:void 0,pe=ce?ce.allocUnsafe:void 0;const ue=B.Uint8Array,de=function(e,t){var o,n,r=t?(o=e.buffer,n=new o.constructor(o.byteLength),new ue(n).set(new ue(o)),n):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var me=Object.create;const fe=function(){function e(){}return function(t){if(!O(t))return{};if(me)return me(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}(),he=(ve=Object.getPrototypeOf,ye=Object,function(e){return ve(ye(e))});var ve,ye,be=Object.prototype;const ge=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)},we=function(e){return null!=e&&"object"==typeof e},_e=function(e){return we(e)&&"[object Arguments]"==S(e)};var Ce=Object.prototype,Be=Ce.hasOwnProperty,Te=Ce.propertyIsEnumerable;const ke=_e(function(){return arguments}())?_e:function(e){return we(e)&&Be.call(e,"callee")&&!Te.call(e,"callee")},xe=Array.isArray,Ae=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ne=function(e){return null!=e&&Ae(e.length)&&!V(e)};var je="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=je&&"object"==typeof module&&module&&!module.nodeType&&module,Se=ze&&ze.exports===je?B.Buffer:void 0;const Oe=(Se?Se.isBuffer:void 0)||function(){return!1};var Ve=Function.prototype,Pe=Object.prototype,Ee=Ve.toString,De=Pe.hasOwnProperty,Me=Ee.call(Object);var Ie={};Ie["[object Float32Array]"]=Ie["[object Float64Array]"]=Ie["[object Int8Array]"]=Ie["[object Int16Array]"]=Ie["[object Int32Array]"]=Ie["[object Uint8Array]"]=Ie["[object Uint8ClampedArray]"]=Ie["[object Uint16Array]"]=Ie["[object Uint32Array]"]=!0,Ie["[object Arguments]"]=Ie["[object Array]"]=Ie["[object ArrayBuffer]"]=Ie["[object Boolean]"]=Ie["[object DataView]"]=Ie["[object Date]"]=Ie["[object Error]"]=Ie["[object Function]"]=Ie["[object Map]"]=Ie["[object Number]"]=Ie["[object Object]"]=Ie["[object RegExp]"]=Ie["[object Set]"]=Ie["[object String]"]=Ie["[object WeakMap]"]=!1;var Le="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ue=Le&&"object"==typeof module&&module&&!module.nodeType&&module,Re=Ue&&Ue.exports===Le&&_.process,Fe=function(){try{return Ue&&Ue.require&&Ue.require("util").types||Re&&Re.binding&&Re.binding("util")}catch(e){}}(),$e=Fe&&Fe.isTypedArray;const qe=$e?function(e){return function(t){return e(t)}}($e):function(e){return we(e)&&Ae(e.length)&&!!Ie[S(e)]},He=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var Je=Object.prototype.hasOwnProperty;const Xe=function(e,t,o){var n=e[t];Je.call(e,t)&&v(n,o)&&(void 0!==o||t in e)||re(e,t,o)};var Ge=/^(?:0|[1-9]\d*)$/;const Ze=function(e,t){var o=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==o||"symbol"!=o&&Ge.test(e))&&e>-1&&e%1==0&&e<t};var Ke=Object.prototype.hasOwnProperty;const We=function(e,t){var o=xe(e),n=!o&&ke(e),r=!o&&!n&&Oe(e),a=!o&&!n&&!r&&qe(e),i=o||n||r||a,l=i?function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}(e.length,String):[],s=l.length;for(var c in e)!t&&!Ke.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ze(c,s))||l.push(c);return l};var Qe=Object.prototype.hasOwnProperty;const Ye=function(e){if(!O(e))return function(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}(e);var t=ge(e),o=[];for(var n in e)("constructor"!=n||!t&&Qe.call(e,n))&&o.push(n);return o},et=function(e){return Ne(e)?We(e,!0):Ye(e)},tt=function(e){return function(e,t,o,n){var r=!o;o||(o={});for(var a=-1,i=t.length;++a<i;){var l=t[a],s=n?n(o[l],e[l],l,o,e):void 0;void 0===s&&(s=e[l]),r?re(o,l,s):Xe(o,l,s)}return o}(e,et(e))},ot=function(e,t,o,n,r,a,i){var l,s=He(e,o),c=He(t,o),p=i.get(c);if(p)ae(e,o,p);else{var u=a?a(s,c,o+"",e,t,i):void 0,d=void 0===u;if(d){var m=xe(c),f=!m&&Oe(c),h=!m&&!f&&qe(c);u=c,m||f||h?xe(s)?u=s:we(l=s)&&Ne(l)?u=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}(s):f?(d=!1,u=function(e,t){if(t)return e.slice();var o=e.length,n=pe?pe(o):new e.constructor(o);return e.copy(n),n}(c,!0)):h?(d=!1,u=de(c,!0)):u=[]:function(e){if(!we(e)||"[object Object]"!=S(e))return!1;var t=he(e);if(null===t)return!0;var o=De.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&Ee.call(o)==Me}(c)||ke(c)?(u=s,ke(s)?u=tt(s):O(s)&&!V(s)||(u=function(e){return"function"!=typeof e.constructor||ge(e)?{}:fe(he(e))}(c))):d=!1}d&&(i.set(c,u),r(u,c,n,a,i),i.delete(c)),ae(e,o,u)}},nt=function e(t,o,n,r,a){t!==o&&ie(o,(function(i,l){if(a||(a=new oe),O(i))ot(t,o,l,n,e,r,a);else{var s=r?r(He(t,l),i,l+"",t,o,a):void 0;void 0===s&&(s=i),ae(t,l,s)}}),et)},rt=function(e){return e},at=function(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)};var it=Math.max;const lt=ne?function(e,t){return ne(e,"toString",{configurable:!0,enumerable:!1,value:(o=t,function(){return o}),writable:!0});var o}:rt;var st=Date.now;const ct=function(e){var t=0,o=0;return function(){var n=st(),r=16-(n-o);if(o=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(lt),pt=(yt=function(e,t,o){nt(e,t,o)},function(e,t){return ct(function(e,t,o){return t=it(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=it(n.length-t,0),i=Array(a);++r<a;)i[r]=n[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=n[r];return l[t]=o(i),at(e,this,l)}}(e,t,rt),e+"")}((function(e,t){var o=-1,n=t.length,r=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(r=yt.length>3&&"function"==typeof r?(n--,r):void 0,a&&function(e,t,o){if(!O(o))return!1;var n=typeof t;return!!("number"==n?Ne(o)&&Ze(t,o.length):"string"==n&&t in o)&&v(o[t],e)}(t[0],t[1],a)&&(r=n<3?void 0:r,n=1),e=Object(e);++o<n;){var i=t[o];i&&yt(e,i,o)}return e}))),ut=zb.rest,dt=(0,e.ref)(!0),mt=(0,e.ref)([]),ft=(0,e.ref)(null),ht=(0,e.ref)([]),vt=()=>({getTemplatesFromDB:function(e={}){const t=pt({template_type:"theme_builder"},e);return(0,ut.getTemplates)(t).then((e=>{mt.value=e.data})).finally((()=>{dt.value=!1}))},getTemplate:function(e){const t=mt.value.find((t=>t.ID===e));return t||console.warn(`Template with id ${e} not found`),t},copyTemplate:function(e){ft.value=e},pasteTemplate:function(e){e.setContent(ft.value),ft.value=null},pasteTemplateAsNew:function(){return(0,ut.duplicateTemplate)(ft.value).then((e=>(mt.value.push(e.data),Promise.resolve(e.data))))},addNewTemplate:function(e){return(0,ut.addTemplate)(e).then((e=>(mt.value.push(e.data),Promise.resolve(e))))},deleteTemplate:function(e){return(0,ut.deleteTemplate)(e).then((t=>{const o=mt.value.find((t=>t.ID===e)),n=mt.value.indexOf(o),{allTemplates:r}=jt();return r.value.forEach((t=>{if(void 0!==t.template_config){const o=Object.keys(t.template_config);o.length>0&&o.forEach((o=>{const n=t.template_config[o];n.content&&n.content===e&&n.delete()}))}})),mt.value.splice(n,1),Promise.resolve(t.data)}))},usedComponents:ht,templates:mt,isLoading:dt,copiedTemplate:ft,addAreaComponent:function(e){ht.value.push(e)},removeAreaComponent:function(e){const t=ht.value.indexOf(e);-1!==t&&ht.value.splice(t,1)}});var yt;class bt{constructor(e,t,o){this.areaType=e,this.active=void 0===t.active||t.active,this.content=t.content||null,this.template=o}get templatePost(){const{getTemplate:e}=vt();return e(this.content)}setContent(e){this.content=e}get isActive(){return this.active}set isActive(e){this.active=e}delete(){this.template.removeArea(this.areaType)}toJSON(){return{active:this.active,content:this.content}}}class gt{constructor(e={}){this.template_config={},this.conditions={};const t=e.template_config||{};Object.keys(t).forEach((e=>{t[e]=new bt(e,t[e],this)})),this.id=e.id||(0,h.generateUID)(),this.name=e.name||"",this.template_config=t,this.conditions=e.conditions||{}}addArea(e,t){this.template_config[e]=new bt(e,t,this)}getArea(e){return this.template_config[e]||null}removeArea(e){delete this.template_config[e]}update(e){const{name:t,conditions:o}=e;this.name=t,this.conditions=o}toJSON(){const e={};return Object.keys(this.template_config||{}).forEach((t=>{e[t]=this.template_config[t].toJSON()})),{id:this.id,name:this.name,template_config:e,conditions:this.conditions}}}var wt=o(674),_t=o.n(wt);let Ct=window.ZionProRestConfig;const Bt=_t().create({baseURL:`${Ct.rest_root}zionbuilder-pro/v1/`,headers:{"X-WP-Nonce":Ct.nonce,Accept:"application/json","Content-Type":"application/json"}}),Tt=(0,e.ref)(!1),kt=(0,e.ref)(null),xt=window.ZnPbSiteBuilderData,At=(0,e.ref)(xt.site_templates),Nt=(0,e.ref)(At.value.templates.map((e=>new gt(e))));if(!At.value.default_template){const e=new gt;Nt.value.push(e),At.value.default_template=e.id}const jt=()=>{function e(e={}){Nt.value.push(new gt(e))}return{siteBuilderData:xt,templatesConfig:At,allTemplates:Nt,loading:Tt,editedTemplate:kt,createTemplate:function(e={}){return new gt(e)},updateTemplates:function(e){Nt.value=e},saveTemplatesConfig:function(){Tt.value=!0;const e=Nt.value.map((e=>e.toJSON()));var t;(t={default_template:At.value.default_template,templates:e},Bt.post("theme-builder",t)).finally((()=>{Tt.value=!1}))},addTemplate:e,removeTemplate:function(e){const t=Nt.value.indexOf(e);-1===t&&console.log("template not found"),Nt.value.splice(t,1)},duplicateTemplate:function(o){const n=o.toJSON();delete n.id;const r=(0,t.translate)("copy");n.name=`${n.name} (${r})`,e(n)},editTemplate:function(e){kt.value=e},unEditTemplate:function(){kt.value=null},setAsDefault:function(e){At.value.default_template=e.id}}},zt=(0,e.ref)(null),St=(0,e.ref)(null),Ot=()=>({activeTemplate:zt,activeTemplateConfig:St,closeEditTemplate:function(){zt.value=null,St.value=null},editTemplate:function(e,t=null){zt.value=e,St.value=t}}),Vt={class:"znpbpro-themeBuilder-templates-box__header"},Pt={key:1,class:"znpb-section-view-item__header-title"},Et={class:"znpbpro-rightClick-menu"},Dt={name:"Menu",props:{actions:{type:Array,required:!0}},setup:(e,{emit:t})=>({performAction:function(e){e.action(),t("action",!0)}}),render:function(t,o,n,r,a,i){return(0,e.openBlock)(),(0,e.createBlock)("div",Et,[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(n.actions,(t=>((0,e.openBlock)(),(0,e.createBlock)("div",{key:t.title,class:["znpbpro-rightClick-menu-item",{"znpbpro-rightClick-menu-item--disabled":!t.show}],onClick:(0,e.withModifiers)((e=>r.performAction(t)),["stop"])},[(0,e.createVNode)("span",null,(0,e.toDisplayString)(t.title),1)],10,["onClick"])))),128))])}},Mt={key:0,class:"znpbpro-themeBuilder-templates-item-title"},It={name:"TemplateList",components:{TemplateListItem:{name:"TemplateListItem",components:{TemplateArea:{name:"TemplateArea",components:{Menu:Dt,TemplateAreaItem:{name:"TemplateAreaItem",components:{Menu:Dt},props:{area:{type:String},data:{type:Object},templateConfig:{type:Object}},setup(o,{emit:n}){const{editTemplate:r}=Ot(),{copyTemplate:a,copiedTemplate:i,pasteTemplate:l,pasteTemplateAsNew:s,addNewTemplate:c,usedComponents:p,addAreaComponent:u,removeAreaComponent:d}=vt(),m=(0,e.ref)(!1),f=(0,e.ref)(!1),h=(0,e.ref)(!1),v=(0,e.computed)((()=>p.value.filter((e=>e===o.data.templatePost.ID)).length>1)),y=(0,e.computed)({get:()=>o.data.templatePost.post_title,set(e){o.data.templatePost.post_title!==e&&(o.data.templatePost.post_title=e,m.value=!0,(0,ut.updateTemplate)(o.data.templatePost.ID,{post_title:e}).finally((()=>{m.value=!1})))}}),b=(0,e.computed)((()=>[{title:(0,t.translate)("rename"),action:()=>h.value.activate(),show:o.data.templatePost},{title:o.data.isActive?(0,t.translate)("disable"):(0,t.translate)("enable"),action:()=>o.data.isActive=!o.data.isActive,show:o.data.templatePost},{title:(0,t.translate)("remove"),action:()=>o.data.delete(),show:!0},{title:(0,t.translate)("edit"),action:()=>r(o.data.templatePost,o.templateConfig),show:o.data.templatePost},{title:(0,t.translate)("copy_component"),action:()=>a(o.data.content),show:o.data.templatePost},{title:(0,t.translate)("paste_component"),action:()=>l(o.data),show:o.data.templatePost&&i.value},{title:(0,t.translate)("paste_as_new_component"),action:()=>l(o.data),show:o.data.templatePost&&i.value}]));return(0,e.onMounted)((()=>{o.data.templatePost&&u(o.data.templatePost.ID)})),(0,e.onBeforeUnmount)((()=>{o.data.templatePost&&d(o.data.templatePost.ID)})),{refTemplateRename:h,expanded:f,loadingArea:m,isLinked:v,templatePostName:y,editAreaActions:b}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("Loader"),s=(0,e.resolveComponent)("Icon"),c=(0,e.resolveComponent)("InlineEdit"),p=(0,e.resolveComponent)("Menu"),u=(0,e.resolveComponent)("Tooltip");return(0,e.openBlock)(),(0,e.createBlock)("div",{class:["znpbpro-themeBuilder-templates-item",[{"znpbpro-themeBuilder-templates-item--active":n.data&&n.data.isActive},{"znpbpro-themeBuilder-templates-item--disabled":n.data&&!n.data.isActive},{"znpbpro-themeBuilder-templates-item--error":n.data&&!n.data.templatePost},{"znpbpro-themeBuilder-templates-item--isHovered":n.data&&n.data.templatePost&&n.data.templatePost.isHovered}]]},[n.data.templatePost?((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,{key:1},[r.loadingArea?((0,e.openBlock)(),(0,e.createBlock)(l,{key:0,size:13})):((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,{key:1},[(0,e.createVNode)(s,{class:"znpbpro-themeBuilder-templates-item-type",icon:`templates-${n.area}`,size:24},null,8,["icon"]),r.isLinked?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,icon:"link",size:14})):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(c,{modelValue:r.templatePostName,"onUpdate:modelValue":o[1]||(o[1]=e=>r.templatePostName=e),tag:"span",class:"znpbpro-themeBuilder-templates-item-title",ref:"refTemplateRename"},null,8,["modelValue"])],64))],64)):((0,e.openBlock)(),(0,e.createBlock)("div",Mt,(0,e.toDisplayString)(t.$translate("template_not_found")),1)),(0,e.createVNode)(u,{tooltipClass:"hg-popper--no-padding","append-to":"element",trigger:"null",placement:"right",show:r.expanded,"onUpdate:show":o[4]||(o[4]=e=>r.expanded=e),"close-on-outside-click":!0,"close-on-escape":!0,positionFixed:!0,class:"znpbpro-themeBuilder-more-icon"},{content:(0,e.withCtx)((()=>[(0,e.createVNode)(p,{actions:r.editAreaActions,onAction:o[2]||(o[2]=e=>r.expanded=!r.expanded)},null,8,["actions"])])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{icon:"more",bgSize:14,rotate:!0,onClick:o[3]||(o[3]=(0,e.withModifiers)((e=>r.expanded=!r.expanded),["stop"]))})])),_:1},8,["show"])],2)}}},props:{area:{type:String},data:{type:Object},templateConfig:{type:Object}},setup(o){const{copiedTemplate:n,pasteTemplate:r,pasteTemplateAsNew:a,addNewTemplate:i}=vt(),l=(0,e.ref)(!1),s={header:(0,t.translate)("header"),body:(0,t.translate)("body"),footer:(0,t.translate)("footer")}[o.area],c=(0,e.computed)((()=>[{title:(0,t.translate)("add_new_component"),action:()=>{l.value=!0;const e=o.templateConfig.name+" "+s;i({template_type:"theme_builder",theme_area:o.area,title:e}).then((e=>{o.templateConfig.addArea(o.area,{content:e.data.ID})})).finally((()=>{l.value=!1}))},show:!0},{title:(0,t.translate)("paste_component"),action:()=>{o.templateConfig.addArea(o.area,{content:n.value})},show:n.value},{title:(0,t.translate)("paste_as_new_component"),action:()=>{l.value=!0,a(o.templateConfig).then((e=>{o.templateConfig.addArea(o.area,{content:e.ID})})).finally((()=>{l.value=!1}))},show:n.value}])),p={name:o.area,put:o.area,pull:!1};return{emptyAreaActions:c,loadingArea:l,sortableGroupInfo:p,onSortableDrop:function(e){const t=e.data.item.getAttribute("znpb-component-id");o.templateConfig.addArea(o.area,{content:parseInt(t)})}}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("TemplateAreaItem"),s=(0,e.resolveComponent)("Loader"),c=(0,e.resolveComponent)("Icon"),p=(0,e.resolveComponent)("Menu"),u=(0,e.resolveComponent)("Tooltip"),d=(0,e.resolveComponent)("sortable");return n.data?((0,e.openBlock)(),(0,e.createBlock)(l,{key:0,data:n.data,area:n.area,"template-config":n.templateConfig},null,8,["data","area","template-config"])):((0,e.openBlock)(),(0,e.createBlock)(d,{key:1,group:r.sortableGroupInfo,onDrop:r.onSortableDrop,class:"znpbpro-themeBuilder-templates-item-sortable"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u,{class:"znpbpro-themeBuilder-templates-item znpbpro-themeBuilder-templates-item--empty",tooltipClass:"hg-popper--no-padding","append-to":"element",trigger:"click",placement:"bottom","close-on-outside-click":!0,"close-on-escape":!0,positionFixed:!0},{content:(0,e.withCtx)((()=>[(0,e.createVNode)(p,{actions:r.emptyAreaActions},null,8,["actions"])])),default:(0,e.withCtx)((()=>[r.loadingArea?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,size:13})):((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,{key:1},[(0,e.createVNode)(c,{class:"znpbpro-themeBuilder-templates-item-type",icon:`templates-${n.area}`,size:24},null,8,["icon"]),(0,e.createVNode)("span",null,"Add "+(0,e.toDisplayString)(n.area),1)],64))])),_:1})])),_:1},8,["group","onDrop"]))}},Menu:Dt},props:{template:{type:Object,required:!0},isDefault:{type:Boolean,required:!1,default:!1}},setup(o){const{removeTemplate:n,duplicateTemplate:r,editTemplate:a,setAsDefault:i}=jt();let l=["header","body","footer"];return{templateAreasData:(0,e.computed)((()=>{let e={};return l.forEach((t=>{e[t]=o.template.getArea(t)})),e})),expanded:(0,e.ref)(!1),itemMenu:[{title:(0,t.translate)("edit"),action:()=>a(o.template),show:!o.isDefault},{title:(0,t.translate)("duplicate"),action:()=>r(o.template),show:!0},{title:(0,t.translate)("remove"),action:()=>n(o.template),show:!o.isDefault},{title:(0,t.translate)("set_as_default"),action:()=>i(o.template),show:!o.isDefault}]}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("InlineEdit"),s=(0,e.resolveComponent)("Menu"),c=(0,e.resolveComponent)("Icon"),p=(0,e.resolveComponent)("Tooltip"),u=(0,e.resolveComponent)("TemplateArea");return(0,e.openBlock)(),(0,e.createBlock)("div",{class:["znpbpro-themeBuilder-templates-box",{"znpbpro-themeBuilder-templates-box--default":n.isDefault}]},[(0,e.createVNode)("div",Vt,[n.isDefault?((0,e.openBlock)(),(0,e.createBlock)("h4",Pt,(0,e.toDisplayString)(t.$translate("default_template")),1)):((0,e.openBlock)(),(0,e.createBlock)(l,{key:0,class:"znpb-section-view-item__header-title",modelValue:n.template.name,"onUpdate:modelValue":o[1]||(o[1]=e=>n.template.name=e),tag:"h4"},null,8,["modelValue"])),(0,e.createVNode)(p,{tooltipClass:"hg-popper--no-padding","append-to":"element",trigger:"null",placement:"right",show:r.expanded,"onUpdate:show":o[4]||(o[4]=e=>r.expanded=e),"close-on-outside-click":!0,"close-on-escape":!0,positionFixed:!0,class:"znpbpro-themeBuilder-more-icon"},{content:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{actions:r.itemMenu,onAction:o[2]||(o[2]=e=>r.expanded=!r.expanded)},null,8,["actions"])])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(c,{icon:"more",bgSize:14,rotate:!0,onClick:o[3]||(o[3]=(0,e.withModifiers)((e=>r.expanded=!r.expanded),["stop"]))})])),_:1},8,["show"])]),((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.templateAreasData,((t,o)=>((0,e.openBlock)(),(0,e.createBlock)(u,{key:o,area:o,data:t,"template-config":n.template},null,8,["area","data","template-config"])))),128)),(0,e.createCommentVNode)(" <pre>\r\n\t\t\t{{template}}\r\n\t\t</pre> ")],2)}}},setup(t,{emit:o}){const{allTemplates:n,templatesConfig:r,updateTemplates:a,createTemplate:i}=jt(),l=(0,e.computed)((()=>r.value.default_template)),s=(0,e.computed)((()=>n.value.find((e=>e.id===l.value))||i())),c=(0,e.computed)({get:()=>n.value.filter((e=>e.id!==l.value)),set(e){a([s.value,...e])}});return{defaultTemplate:s,remainingTemplates:c}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("TemplateListItem"),s=(0,e.resolveComponent)("Sortable");return(0,e.openBlock)(),(0,e.createBlock)(s,{class:"znpbpro-themeBuilder-templates-wrapper",modelValue:r.remainingTemplates,"onUpdate:modelValue":o[1]||(o[1]=e=>r.remainingTemplates=e),axis:"horizontal"},{start:(0,e.withCtx)((()=>[(0,e.createVNode)(l,{template:r.defaultTemplate,"is-default":!0},null,8,["template"])])),default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.remainingTemplates,((t,o)=>((0,e.openBlock)(),(0,e.createBlock)(l,{key:o,template:t},null,8,["template"])))),128))])),_:1},8,["modelValue"])}},Lt={class:"znpbpro-themeBuilder-components-wrapper"},Ut={class:"znpbpro-themeBuilder-components-content"},Rt=(0,e.createVNode)("div",{class:"znpbpro-themeBuilder-components-titles"},[(0,e.createVNode)("div",{class:"znpbpro-themeBuilder-components-titles-heading znpbpro-themeBuilder-components-titles-heading--name"},"Name"),(0,e.createVNode)("div",{class:"znpbpro-themeBuilder-components-titles-heading znpbpro-themeBuilder-components-titles-heading--status"},"Status"),(0,e.createVNode)("div",{class:"znpbpro-themeBuilder-components-titles-heading znpbpro-themeBuilder-components-titles-heading--actions"},"Actions")],-1),Ft={key:1,class:"znpbpro-themeBuilder-components--empty"},$t={class:"znpbpro-themeBuilder-components-item znpbpro-themeBuilder-components-item--name"},qt={class:"znpbpro-themeBuilder-components-item znpbpro-themeBuilder-components-item--status"},Ht={class:"znpbpro-themeBuilder-components-item znpbpro-themeBuilder-components-item--actions"},Jt={name:"App",components:{TemplateList:It,AllComponentsTabs:{name:"AllComponentsTabs",components:{TemplateComponent:{name:"TemplateComponent",components:{ComponentItem:{name:"SingleItem",props:{component:{type:Object}},components:{Menu:Dt},setup(o){const{editTemplate:n}=Ot(),{deleteTemplate:r,usedComponents:a}=vt(),i=(0,e.ref)(!1),l=(0,e.ref)(!1),s=(0,e.ref)(!1),c=(0,e.ref)(!1),p=(0,e.ref)(!1),u=(0,e.computed)((()=>a.value.includes(o.component.ID))),d=(0,e.computed)({get:()=>o.component.post_title,set(e){o.component.post_title!==e&&(o.component.post_title=e,s.value=!0,(0,ut.updateTemplate)(o.component.ID,{post_title:e}).finally((()=>{s.value=!1})))}}),m=[{title:(0,t.translate)("rename"),action:()=>c.value.activate(),show:!0},{title:(0,t.translate)("edit"),action:()=>n(o.component),show:!0},{title:(0,t.translate)("delete"),action:()=>p.value=!0,show:!0}];return{refTemplateRename:c,isAssigned:u,previewTemplate:l,expanded:i,loading:s,templatePostName:d,itemMenu:m,editTemplate:n,doDeleteTemplate:function(){s.value=!0,r(o.component.ID).finally((()=>{s.value=!1}))},showModalDeleteConfirm:p}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("Loader"),s=(0,e.resolveComponent)("Icon"),c=(0,e.resolveComponent)("InlineEdit"),p=(0,e.resolveComponent)("Menu"),u=(0,e.resolveComponent)("Tooltip"),d=(0,e.resolveComponent)("Modal"),m=(0,e.resolveComponent)("ModalConfirm");return(0,e.openBlock)(),(0,e.createBlock)("div",{class:"znpbpro-themeBuilder-components-item-wrapper",onMouseover:o[9]||(o[9]=e=>n.component.isHovered=!0),onMouseout:o[10]||(o[10]=e=>n.component.isHovered=!1)},[r.loading?((0,e.openBlock)(),(0,e.createBlock)(l,{key:0,size:13})):((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,{key:1},[(0,e.createVNode)("div",$t,[(0,e.createVNode)(s,{icon:`templates-${n.component.theme_area}`,size:24},null,8,["icon"]),(0,e.createVNode)(c,{modelValue:r.templatePostName,"onUpdate:modelValue":o[1]||(o[1]=e=>r.templatePostName=e),tag:"h5",class:"znpbpro-themeBuilder-templates-item-title",ref:"refTemplateRename"},null,8,["modelValue"])]),(0,e.createVNode)("div",qt,(0,e.toDisplayString)(r.isAssigned?"assigned":"unassigned"),1),(0,e.createVNode)("div",Ht,[(0,e.createVNode)(s,{icon:"edit",onClick:o[2]||(o[2]=e=>r.editTemplate(n.component))}),(0,e.createVNode)(s,{icon:"eye",onClick:o[3]||(o[3]=e=>r.previewTemplate=!r.previewTemplate)}),(0,e.createVNode)(u,{tooltipClass:"hg-popper--no-padding","append-to":"element",trigger:"null",placement:"right",show:r.expanded,"onUpdate:show":o[6]||(o[6]=e=>r.expanded=e),"close-on-outside-click":!0,"close-on-escape":!0,positionFixed:!0,class:"znpbpro-themeBuilder-more-icon"},{content:(0,e.withCtx)((()=>[(0,e.createVNode)(p,{actions:r.itemMenu,onAction:o[4]||(o[4]=e=>r.expanded=!r.expanded)},null,8,["actions"])])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{icon:"more",bgSize:14,rotate:!0,onClick:o[5]||(o[5]=(0,e.withModifiers)((e=>r.expanded=!r.expanded),["stop"]))})])),_:1},8,["show"])])],64)),r.previewTemplate?((0,e.openBlock)(),(0,e.createBlock)(d,{key:2,show:!0,title:t.$translate("preview_component"),"show-backdrop":!1,onCloseModal:o[7]||(o[7]=e=>r.previewTemplate=!r.previewTemplate),"append-to":"body",fullscreen:!0,"enable-drag":!1,class:"znpb-themeBuilderTemplateEditModal","show-maximize":!1},{default:(0,e.withCtx)((()=>[(0,e.createVNode)("iframe",{src:n.component.preview_url},null,8,["src"])])),_:1},8,["title"])):(0,e.createCommentVNode)("v-if",!0),r.showModalDeleteConfirm?((0,e.openBlock)(),(0,e.createBlock)(m,{key:3,width:530,"confirm-text":t.$translate("component_delete_confirm"),"cancel-text":t.$translate("component_delete_cancel"),onConfirm:r.doDeleteTemplate,onCancel:o[8]||(o[8]=e=>r.showModalDeleteConfirm=!1)},{default:(0,e.withCtx)((()=>[(0,e.createTextVNode)((0,e.toDisplayString)(t.$translate("are_you_sure_delete_component")),1)])),_:1},8,["confirm-text","cancel-text","onConfirm"])):(0,e.createCommentVNode)("v-if",!0)],32)}}},props:{type:{type:String}},setup(t){const{templates:o,usedComponents:n}=vt();return{components:(0,e.computed)((()=>o.value.filter((e=>e.theme_area===t.type)).sort(((e,t)=>n.value.includes(e.ID)?-1:1)))),groupInfo:{name:t.type,put:!1,pull:"clone"}}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("ComponentItem"),c=(0,e.resolveComponent)("sortable");return(0,e.openBlock)(),(0,e.createBlock)("div",Ut,[Rt,r.components.length>0?((0,e.openBlock)(),(0,e.createBlock)(c,{key:0,group:r.groupInfo,sort:!1,"preserve-last-location":!1},{helper:(0,e.withCtx)((()=>[(0,e.createVNode)(l,{class:"znpbpro-themeBuilder-componentSortableHelper",icon:`templates-${n.type}`,size:24},null,8,["icon"])])),placeholder:(0,e.withCtx)((()=>[(0,e.createVNode)(l,{class:"znpbpro-themeBuilder-componentSortablePlaceholder",icon:`templates-${n.type}`,size:24},null,8,["icon"])])),default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.components,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:t.ID,component:t,"znpb-component-id":t.ID},null,8,["component","znpb-component-id"])))),128))])),_:1},8,["group"])):((0,e.openBlock)(),(0,e.createBlock)("div",Ft,(0,e.toDisplayString)(t.$translate("no_components_found")),1))])}}},data:()=>({tabs:[{name:(0,t.translate)("header"),id:"header"},{name:(0,t.translate)("body"),id:"body"},{name:(0,t.translate)("footer"),id:"footer"}]}),render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("TemplateComponent"),s=(0,e.resolveComponent)("Tab"),c=(0,e.resolveComponent)("Tabs");return(0,e.openBlock)(),(0,e.createBlock)("div",Lt,[(0,e.createVNode)(c,null,{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(a.tabs,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{name:t.name,id:t.id,key:t.id},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(l,{type:t.id},null,8,["type"])])),_:2},1032,["name","id"])))),128))])),_:1})])}},ModalAddNewTemplate:{name:"ModalAddNewTemplate",setup(o,{emit:n}){const{addTemplate:r,editedTemplate:a}=jt(),i=(0,e.ref)({});return{optionsSchema:{name:{title:"Title",description:(0,t.translate)("modal_title_description"),type:"text",placeholder:(0,t.translate)("modal_title_placeholder")},conditions:{type:"template_assignments"}},data:(0,e.computed)({get:()=>a.value?{name:a.value.name,conditions:a.value.conditions}:i.value,set(e){a.value?a.value.update(e):i.value=e}}),onSaveModal:function(){a.value||r(i.value),n("update:show",!1)}}},render:function(t,o,n,r,a,i){const l=(0,e.resolveComponent)("OptionsForm"),s=(0,e.resolveComponent)("ModalTemplateSaveButton");return(0,e.openBlock)(),(0,e.createBlock)(s,{onSaveModal:r.onSaveModal},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(l,{schema:r.optionsSchema,modelValue:r.data,"onUpdate:modelValue":o[1]||(o[1]=e=>r.data=e)},null,8,["schema","modelValue"])])),_:1},8,["onSaveModal"])}},TemplatePostIframe:{name:"TemplatePostIframe",setup(){const{activeTemplate:t,activeTemplateConfig:o}=Ot(),n=(0,e.computed)((()=>t.value.edit_url));let r;return(0,e.onMounted)((()=>{(0,e.nextTick)((()=>{if(r=document.createElement("form"),r.action=n.value,r.target="frame",r.method="post",o.value){const e=document.createElement("input");e.type="hidden",e.name="template_conditions",e.value=JSON.stringify(o.value.conditions),r.appendChild(e)}document.body.appendChild(r),r.submit()}))})),{activeTemplate:t,editUrl:n,onIframeLoad:function(){(0,e.nextTick)((()=>{document.body.contains(r)&&document.body.removeChild(r)}))}}},render:function(t,o,n,r,a,i){return(0,e.openBlock)(),(0,e.createBlock)("iframe",{class:"znpb-themeBuilderTemplateEditIframe",id:"frame",name:"frame",onLoad:o[1]||(o[1]=(...e)=>r.onIframeLoad&&r.onIframeLoad(...e))},null,32)}}},setup(){const{getTemplatesFromDB:t,isLoading:o}=vt(),{saveTemplatesConfig:n,loading:r,editedTemplate:a,unEditTemplate:i}=jt(),{activeTemplate:l,closeEditTemplate:s}=Ot(),c=window.ZnPbSiteBuilderData.urls.logo_url,p=(0,e.ref)(!1),u=(0,e.computed)((()=>p.value||!!a.value)),d=(0,e.computed)((()=>o.value||r.value));return t(),(0,e.onMounted)((()=>{window.document.addEventListener("keydown",(e=>{83===e.which&&e.ctrlKey&&(e.preventDefault(),r.value||n())}))})),{showAddNewModal:p,computedShowAddNewModal:u,isLoading:o,activeTemplate:l,closeEditTemplate:s,onAddNewModalClose:function(){a.value&&i(),p.value=!1},save:function(){n()},logoUrl:c,isAnyLoading:d}},render:function(t,o,n,r,h,v){const y=(0,e.resolveComponent)("Loader"),b=(0,e.resolveComponent)("Icon"),g=(0,e.resolveComponent)("TemplateList"),w=(0,e.resolveComponent)("AllComponentsTabs"),_=(0,e.resolveComponent)("ModalAddNewTemplate"),C=(0,e.resolveComponent)("Modal"),B=(0,e.resolveComponent)("TemplatePostIframe");return(0,e.openBlock)(),(0,e.createBlock)("div",a,[(0,e.createVNode)("div",i,[(0,e.createVNode)("img",{class:"znpbpro-theme-builder-headerLogo",src:r.logoUrl},null,8,["src"]),(0,e.createVNode)("h2",null,(0,e.toDisplayString)(t.$translate("theme_builder")),1),(0,e.createVNode)("span",{class:"znpb-button znpb-button--secondary",onClick:o[1]||(o[1]=(...e)=>r.save&&r.save(...e))},[r.isAnyLoading?((0,e.openBlock)(),(0,e.createBlock)(y,{key:0,size:13})):(0,e.createCommentVNode)("v-if",!0),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.$translate("save")),1)])]),(0,e.createVNode)("div",l,[r.isLoading?((0,e.openBlock)(),(0,e.createBlock)(y,{key:0})):((0,e.openBlock)(),(0,e.createBlock)("div",s,[(0,e.createVNode)("div",c,[(0,e.createVNode)("h4",null,(0,e.toDisplayString)(t.$translate("templates")),1),(0,e.createVNode)("div",{class:"znpbpro-themeBuilder-templates-header__right",onClick:o[2]||(o[2]=e=>r.showAddNewModal=!0)},[(0,e.createVNode)("span",null,(0,e.toDisplayString)(t.$translate("add_new")),1),(0,e.createVNode)(b,{icon:"plus",bgSize:34,class:"znpbpro-themeBuilder-add-icon"})])]),(0,e.createVNode)(g)])),(0,e.createVNode)("div",p,[(0,e.createVNode)("div",u,[(0,e.createVNode)("h4",null,(0,e.toDisplayString)(t.$translate("components")),1)]),(0,e.createVNode)(w)])]),(0,e.createVNode)(C,{show:r.computedShowAddNewModal,title:t.$translate("add_new_component"),"show-backdrop":!1,"show-maximize":!1,onCloseModal:r.onAddNewModalClose,width:520},{default:(0,e.withCtx)((()=>[r.computedShowAddNewModal?((0,e.openBlock)(),(0,e.createBlock)(_,{key:0,show:r.computedShowAddNewModal,"onUpdate:show":r.onAddNewModalClose},null,8,["show","onUpdate:show"])):(0,e.createCommentVNode)("v-if",!0)])),_:1},8,["show","title","onCloseModal"]),r.activeTemplate?((0,e.openBlock)(),(0,e.createBlock)(C,{key:0,show:!0,"show-backdrop":!1,onCloseModal:r.closeEditTemplate,"append-to":"body",fullscreen:!0,"enable-drag":!1,class:"znpb-themeBuilderTemplateEditModal","show-maximize":!1},{title:(0,e.withCtx)((()=>[(0,e.createVNode)("span",d,[(0,e.createVNode)("span",m,(0,e.toDisplayString)(t.$translate("editing_component"))+":",1),(0,e.createTextVNode)((0,e.toDisplayString)(r.activeTemplate.post_title),1)])])),close:(0,e.withCtx)((()=>[(0,e.createVNode)("span",f,(0,e.toDisplayString)(t.$translate("close_component")),1)])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(B)])),_:1},8,["onCloseModal"])):(0,e.createCommentVNode)("v-if",!0)])}},Xt=(0,e.createApp)(Jt);Xt.use({install:t.install},window.ZnI18NStrings),Xt.use(r.install),Xt.mount("#znpbpro-theme-builder-app")})(),(window.zbpro=window.zbpro||{})["theme-builder"]=n})();